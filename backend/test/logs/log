GOROOT=C:\Users\shenfz\go\go1.19.7 #gosetup
GOPATH=E:\MyCodeGo;E:\MyCodeGoPath;C:\Users\shenfz\go #gosetup
C:\Users\shenfz\go\go1.19.7\bin\go.exe test -c -o C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand\___github.com/shenfz/TabakoAssistant_backend_test__Test_Simple.test.exe github.com/shenfz/TabakoAssistant/backend/test #gosetup
C:\Users\shenfz\go\go1.19.7\bin\go.exe tool test2json -t C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand\___github.com/shenfz/TabakoAssistant_backend_test__Test_Simple.test.exe -test.v -test.paniconexit0 -test.run ^\QTest_Simple\E$ #gosetup

=== RUN   Test_Simple
2024-03-05 16:33:35	INFO	zapLogger/formatPrint.go:19	Get Spark Config: {HostUrl:wss://spark-api.xf-yun.com/v3.5/chat AppID:5e7d6ae2 AppSecret:9e3e909c94e2554964f3d80c0c2904be AppKey:0ddcdbd0dce5263eda501dde653aa611 SparkApiDomain:generalv3.5 MaxTokens:8192}
2024-03-05 16:33:35	INFO	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:185	Start HandleStreamRespContent Gor
2024-03-05 16:33:35.0263248 +0800 CST m=+0.024061301 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:35	INFO	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/zapLogger/formatPrint.go:19	Dail URL [wss://spark-api.xf-yun.com/v3.5/chat?authorization=aG1hYyB1c2VybmFtZT0iMGRkY2RiZDBkY2U1MjYzZWRhNTAxZGRlNjUzYWE2MTEiLCBhbGdvcml0aG09ImhtYWMtc2hhMjU2IiwgaGVhZGVycz0iaG9zdCBkYXRlIHJlcXVlc3QtbGluZSIsIHNpZ25hdHVyZT0idTQ0UkYzMXN5OXNHOGRXa1hhRmlOVHNZblA5TDhCMUlpdHg3K0Q1Z3EwTT0i&date=Tue%2C+05+Mar+2024+08%3A33%3A35+UTC&host=spark-api.xf-yun.com]  Succeed, Resp: &{Status:101 Switching Protocols StatusCode:101 Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Connection:[upgrade] Sec-Websocket-Accept:[+99SNgu//m94ytwnK53BBB0VmaI=] Upgrade:[websocket] Via:[kong/1.3.0] X-Kong-Proxy-Latency:[1] X-Kong-Upstream-Latency:[0]] Body:{Reader:0xc0002872f0} ContentLength:0 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000164200 TLS:<nil>}
2024-03-05 16:33:35.2297827 +0800 CST m=+0.227519201 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:35	INFO	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:166	Start Read Gor
2024-03-05 16:33:35.2307825 +0800 CST m=+0.228519001 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:35	INFO	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:129	Start Send Gor
2024-03-05 16:33:35.2307825 +0800 CST m=+0.228519001 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:40	DEBUG	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:144	Get Obj send Succeed: {ReqHeader:{AppId:5e7d6ae2 Uid:473019535650193408} ReqParameter:{Chat:{Domain:generalv3.5 Temperature:1 MaxTokens:300 ChatId:Chat473019535650193409}} ReqPayload:{Message:{Text:[{Role:user Content:Hi!}]}}}
2024-03-05 16:33:40.2340356 +0800 CST m=+5.231772101 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:43	INFO	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:212	Get Completely Content: Hello! How can I assist you today?
2024-03-05 16:33:43.1957916 +0800 CST m=+8.193528101 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:43	WARN	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:86	CLosed wss conn code[ 1000 ] msg[ close this ws conn ]
2024-03-05 16:33:43.3959286 +0800 CST m=+8.393665101 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:43	ERROR	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:170	read message error: auto closed wss conn by server
2024-03-05 16:33:43.3969312 +0800 CST m=+8.394667701 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:43	WARN	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:171	ReadChan closed, exit read gor
2024-03-05 16:33:43.3979767 +0800 CST m=+8.395713201 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:45	DEBUG	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:144	Get Obj send Succeed: {ReqHeader:{AppId:5e7d6ae2 Uid:473019556630102016} ReqParameter:{Chat:{Domain:generalv3.5 Temperature:1 MaxTokens:300 ChatId:Chat473019556630102017}} ReqPayload:{Message:{Text:[{Role:user Content:Hi!} {Role:assistant Content:He} {Role:assistant Content:llo! How} {Role:assistant Content: can I assist} {Role:assistant Content: you today?} {Role:user Content:Hi!}]}}}
2024-03-05 16:33:45.2364473 +0800 CST m=+10.234183801 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:50	ERROR	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:154	write tcp 192.168.1.14:63756->114.118.65.88:443: wsasend: An established connection was aborted by the software in your host machine., now restart conn
2024-03-05 16:33:50.2483483 +0800 CST m=+15.246084801 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:50	WARN	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:148	Send channel closed ,exit gor
2024-03-05 16:33:50.2493489 +0800 CST m=+15.247085401 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:50	INFO	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/zapLogger/formatPrint.go:19	Dail URL [wss://spark-api.xf-yun.com/v3.5/chat?authorization=aG1hYyB1c2VybmFtZT0iMGRkY2RiZDBkY2U1MjYzZWRhNTAxZGRlNjUzYWE2MTEiLCBhbGdvcml0aG09ImhtYWMtc2hhMjU2IiwgaGVhZGVycz0iaG9zdCBkYXRlIHJlcXVlc3QtbGluZSIsIHNpZ25hdHVyZT0iKzBDR3E4Qm5Kc2l1TlN4Ti9OMmFkdHd5V1AxRUF2d1JSc2o3OENqU2tacz0i&date=Tue%2C+05+Mar+2024+08%3A33%3A50+UTC&host=spark-api.xf-yun.com]  Succeed, Resp: &{Status:101 Switching Protocols StatusCode:101 Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Connection:[upgrade] Sec-Websocket-Accept:[AwspWsxBwJZ5gmlutTVZVGbZEKM=] Upgrade:[websocket] Via:[kong/1.3.0] X-Kong-Proxy-Latency:[1] X-Kong-Upstream-Latency:[1]] Body:{Reader:0xc00032cf60} ContentLength:0 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002b8200 TLS:<nil>}
2024-03-05 16:33:50.4115655 +0800 CST m=+15.409302001 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:50	INFO	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:166	Start Read Gor
2024-03-05 16:33:50.4131467 +0800 CST m=+15.410883201 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:50	INFO	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:129	Start Send Gor
2024-03-05 16:33:50.4131467 +0800 CST m=+15.410883201 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:55	DEBUG	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:144	Get Obj send Succeed: {ReqHeader:{AppId:5e7d6ae2 Uid:473019598640250880} ReqParameter:{Chat:{Domain:generalv3.5 Temperature:1 MaxTokens:300 ChatId:Chat473019598640250881}} ReqPayload:{Message:{Text:[{Role:user Content:Hi!} {Role:assistant Content:He} {Role:assistant Content:llo! How} {Role:assistant Content: can I assist} {Role:assistant Content: you today?} {Role:user Content:Hi!} {Role:user Content:Hi!} {Role:user Content:Hi!}]}}}
2024-03-05 16:33:55.2520333 +0800 CST m=+20.249769801 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:56	INFO	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:212	Get Completely Content: Hello! How may I assist you today?
2024-03-05 16:33:56.7331978 +0800 CST m=+21.730934301 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:56	WARN	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:86	CLosed wss conn code[ 1000 ] msg[ close this ws conn ]
2024-03-05 16:33:56.9329321 +0800 CST m=+21.930668601 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:56	ERROR	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:170	read message error: auto closed wss conn by server
2024-03-05 16:33:56.9340926 +0800 CST m=+21.931829101 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:33:56	WARN	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:171	ReadChan closed, exit read gor
2024-03-05 16:33:56.9346169 +0800 CST m=+21.932353401 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.
2024-03-05 16:34:00	DEBUG	E:/GithubGoPath/src/TabakoAssistant/backend/pkg/spark/init.go:144	Get Obj send Succeed: {ReqHeader:{AppId:5e7d6ae2 Uid:473019619653713920} ReqParameter:{Chat:{Domain:generalv3.5 Temperature:1 MaxTokens:300 ChatId:Chat473019619653713921}} ReqPayload:{Message:{Text:[{Role:user Content:Hi!} {Role:assistant Content:He} {Role:assistant Content:llo! How} {Role:assistant Content: can I assist} {Role:assistant Content: you today?} {Role:user Content:Hi!} {Role:user Content:Hi!} {Role:user Content:Hi!} {Role:assistant Content:He} {Role:assistant Content:llo! How} {Role:assistant Content: may I assist} {Role:assistant Content: you today?} {Role:user Content:Hi!}]}}}
2024-03-05 16:34:00.2622488 +0800 CST m=+25.259985301 write error: failed to acquite target io.Writer: failed to create directory E:\GithubGoPath\src\TabakoAssistant\backend\C:\Users\shenfz\AppData\Local\JetBrains\GoLand2023.2\tmp\GoLand: mkdir E:\GithubGoPath\src\TabakoAssistant\backend\C:: The filename, directory name, or volume label syntax is incorrect.

进程 已完成，退出代码为 1

